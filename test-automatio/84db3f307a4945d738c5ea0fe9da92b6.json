[
  {
    "command": "python3 immich-smart-albums.py --include-metadata-intersection filters/metadata-2023-Q1.json filters/metadata-2023-Q2.json --exclude-metadata-union filters/metadata-2024-Q3.json filters/metadata-2024-Q4.json | sort",
    "timestamp": "2025-03-09T17:16:37.265719",
    "output": "\u001b[93mNo assets matched all criteria.\u001b[0m\nExcluded 0 assets from search results, remaining: 0\nFound 1399 assets matching metadata criteria in filters/metadata-2024-Q4.json\nFound 1934 assets matching metadata criteria in filters/metadata-2024-Q3.json\nFound 621 assets matching metadata criteria in filters/metadata-2023-Q1.json\nFound 855 assets matching metadata criteria in filters/metadata-2023-Q2.json\nLoaded 0 exclude intersection filters\nLoaded 0 exclude union filters\nLoaded 0 include intersection filters\nLoaded 0 include union filters\nProcessing 2 metadata search files\nProcessing 2 metadata search files\nProcessing metadata file [1/2]: filters/metadata-2023-Q1.json\nProcessing metadata file [1/2]: filters/metadata-2024-Q3.json\nProcessing metadata file [2/2]: filters/metadata-2023-Q2.json\nProcessing metadata file [2/2]: filters/metadata-2024-Q4.json\n",
    "return_code": 0,
    "status": "PASSED"
  },
  {
    "command": "python3 immich-smart-albums.py --include-metadata-intersection filters/metadata-2023-Q1.json filters/metadata-2023-Q2.json --exclude-metadata-union filters/metadata-2024-Q3.json filters/metadata-2024-Q4.json | sort",
    "timestamp": "2025-03-09T17:27:37.179811",
    "output": "\u001b[93mNo assets matched all criteria.\u001b[0m\nExcluded 0 assets from search results, remaining: 0\nFound 1399 assets matching metadata criteria in filters/metadata-2024-Q4.json\nFound 1934 assets matching metadata criteria in filters/metadata-2024-Q3.json\nFound 621 assets matching metadata criteria in filters/metadata-2023-Q1.json\nFound 855 assets matching metadata criteria in filters/metadata-2023-Q2.json\nLoaded 0 exclude intersection filters\nLoaded 0 exclude union filters\nLoaded 0 include intersection filters\nLoaded 0 include union filters\nProcessing 2 metadata search files\nProcessing 2 metadata search files\nProcessing metadata file [1/2]: filters/metadata-2023-Q1.json\nProcessing metadata file [1/2]: filters/metadata-2024-Q3.json\nProcessing metadata file [2/2]: filters/metadata-2023-Q2.json\nProcessing metadata file [2/2]: filters/metadata-2024-Q4.json\n",
    "return_code": 0,
    "status": "PASSED"
  },
  {
    "command": "python3 immich-smart-albums.py --include-metadata-intersection filters/metadata-2023-Q1.json filters/metadata-2023-Q2.json --exclude-metadata-union filters/metadata-2024-Q3.json filters/metadata-2024-Q4.json | sort",
    "timestamp": "2025-03-09T17:32:17.486045",
    "output": "\u001b[93mNo assets matched all criteria.\u001b[0m\nExcluded 0 assets from search results, remaining: 0\nFound 1399 assets matching metadata criteria in filters/metadata-2024-Q4.json\nFound 1934 assets matching metadata criteria in filters/metadata-2024-Q3.json\nFound 621 assets matching metadata criteria in filters/metadata-2023-Q1.json\nFound 855 assets matching metadata criteria in filters/metadata-2023-Q2.json\nLoaded 0 exclude intersection filters\nLoaded 0 exclude union filters\nLoaded 0 include intersection filters\nLoaded 0 include union filters\nProcessing 2 metadata search files\nProcessing 2 metadata search files\nProcessing metadata file [1/2]: filters/metadata-2023-Q1.json\nProcessing metadata file [1/2]: filters/metadata-2024-Q3.json\nProcessing metadata file [2/2]: filters/metadata-2023-Q2.json\nProcessing metadata file [2/2]: filters/metadata-2024-Q4.json\n",
    "return_code": 0,
    "status": "PASSED"
  },
  {
    "command": "python3 immich-smart-albums.py --include-metadata-intersection filters/metadata-2023-Q1.json filters/metadata-2023-Q2.json --exclude-metadata-union filters/metadata-2024-Q3.json filters/metadata-2024-Q4.json | sort",
    "timestamp": "2025-03-09T21:39:41.453606",
    "output": "\u001b[93mNo assets matched all criteria.\u001b[0m\nFinal merged asset IDs after applying all criteria: 0 assets\n            [MERGE - LEAF] Entering leaf node with mode 'union'. Query keys: ['filters/metadata-2023-Q1.json']\n            [MERGE - LEAF] Entering leaf node with mode 'union'. Query keys: ['filters/metadata-2023-Q2.json']\n            [MERGE - LEAF] Entering leaf node with mode 'union'. Query keys: ['filters/metadata-2024-Q3.json']\n            [MERGE - LEAF] Entering leaf node with mode 'union'. Query keys: ['filters/metadata-2024-Q4.json']\n            [MERGE - LEAF] Raw query counts: {'filters/metadata-2023-Q1.json': 621}\n            [MERGE - LEAF] Raw query counts: {'filters/metadata-2023-Q2.json': 855}\n            [MERGE - LEAF] Raw query counts: {'filters/metadata-2024-Q3.json': 1934}\n            [MERGE - LEAF] Raw query counts: {'filters/metadata-2024-Q4.json': 1397}\n            [MERGE - LEAF] Union result: 1397 items\n            [MERGE - LEAF] Union result: 1934 items\n            [MERGE - LEAF] Union result: 621 items\n            [MERGE - LEAF] Union result: 855 items\n    [MERGE - NODE] About to merge children with counts: [0]\n[MERGE - NODE] About to merge children with counts: [0, 3331]\n        [MERGE - NODE] About to merge children with counts: [1934, 1397]\n    [MERGE - NODE] About to merge children with counts: [3331]\n        [MERGE - NODE] About to merge children with counts: [621, 855]\n    [MERGE - NODE] Entering node with mode 'intersection' having 1 children\n        [MERGE - NODE] Entering node with mode 'intersection' having 2 children\n[MERGE - NODE] Entering node with mode 'minus' having 2 children\n    [MERGE - NODE] Entering node with mode 'union' having 1 children\n        [MERGE - NODE] Entering node with mode 'union' having 2 children\n        [MERGE - NODE] Intersection result: 0 items\n    [MERGE - NODE] Intersection result: 0 items\n[MERGE - NODE] Minus (Subtract) result: 0 items\n        [MERGE - NODE] Union result: 3331 items\n    [MERGE - NODE] Union result: 3331 items\n",
    "return_code": 0,
    "status": "FAILED",
    "diff": "--- previous\n+++ current\n@@ -1,16 +1,29 @@\n \u001b[93mNo assets matched all criteria.\u001b[0m\n-Excluded 0 assets from search results, remaining: 0\n-Found 1399 assets matching metadata criteria in filters/metadata-2024-Q4.json\n-Found 1934 assets matching metadata criteria in filters/metadata-2024-Q3.json\n-Found 621 assets matching metadata criteria in filters/metadata-2023-Q1.json\n-Found 855 assets matching metadata criteria in filters/metadata-2023-Q2.json\n-Loaded 0 exclude intersection filters\n-Loaded 0 exclude union filters\n-Loaded 0 include intersection filters\n-Loaded 0 include union filters\n-Processing 2 metadata search files\n-Processing 2 metadata search files\n-Processing metadata file [1/2]: filters/metadata-2023-Q1.json\n-Processing metadata file [1/2]: filters/metadata-2024-Q3.json\n-Processing metadata file [2/2]: filters/metadata-2023-Q2.json\n-Processing metadata file [2/2]: filters/metadata-2024-Q4.json\n+Final merged asset IDs after applying all criteria: 0 assets\n+            [MERGE - LEAF] Entering leaf node with mode 'union'. Query keys: ['filters/metadata-2023-Q1.json']\n+            [MERGE - LEAF] Entering leaf node with mode 'union'. Query keys: ['filters/metadata-2023-Q2.json']\n+            [MERGE - LEAF] Entering leaf node with mode 'union'. Query keys: ['filters/metadata-2024-Q3.json']\n+            [MERGE - LEAF] Entering leaf node with mode 'union'. Query keys: ['filters/metadata-2024-Q4.json']\n+            [MERGE - LEAF] Raw query counts: {'filters/metadata-2023-Q1.json': 621}\n+            [MERGE - LEAF] Raw query counts: {'filters/metadata-2023-Q2.json': 855}\n+            [MERGE - LEAF] Raw query counts: {'filters/metadata-2024-Q3.json': 1934}\n+            [MERGE - LEAF] Raw query counts: {'filters/metadata-2024-Q4.json': 1397}\n+            [MERGE - LEAF] Union result: 1397 items\n+            [MERGE - LEAF] Union result: 1934 items\n+            [MERGE - LEAF] Union result: 621 items\n+            [MERGE - LEAF] Union result: 855 items\n+    [MERGE - NODE] About to merge children with counts: [0]\n+[MERGE - NODE] About to merge children with counts: [0, 3331]\n+        [MERGE - NODE] About to merge children with counts: [1934, 1397]\n+    [MERGE - NODE] About to merge children with counts: [3331]\n+        [MERGE - NODE] About to merge children with counts: [621, 855]\n+    [MERGE - NODE] Entering node with mode 'intersection' having 1 children\n+        [MERGE - NODE] Entering node with mode 'intersection' having 2 children\n+[MERGE - NODE] Entering node with mode 'minus' having 2 children\n+    [MERGE - NODE] Entering node with mode 'union' having 1 children\n+        [MERGE - NODE] Entering node with mode 'union' having 2 children\n+        [MERGE - NODE] Intersection result: 0 items\n+    [MERGE - NODE] Intersection result: 0 items\n+[MERGE - NODE] Minus (Subtract) result: 0 items\n+        [MERGE - NODE] Union result: 3331 items\n+    [MERGE - NODE] Union result: 3331 items",
    "suspicious": true
  }
]